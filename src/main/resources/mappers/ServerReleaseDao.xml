<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--namespace 标识映射文件  -->
<mapper namespace="com.zjcds.serverRelease.dao.ServerReleaseDao">
    <select id="getServiceResourceList" resultType="java.util.Map">
		SELECT
	        id "id",
	        service_name "serviceName",
	        service_desc "serviceDesc"
        FROM
	        dataservice
		<where>
			<if test="serviceName != null and serviceName != ''">
				and service_name like '%' #{serviceName} '%'
			</if>
		</where>
	</select>

	<insert id="saveServiceResource" parameterType="map">
		insert into dataservice
		(
			service_name,
			service_desc,
			db_ip,
			db_port,
			db_name,
			db_table_name,
			db_username,
			db_password,
			wsdl_ip,
			wsdl_port,
			wsdl_url,
			restful_method,
			restful_ip,
			restful_port,
			restful_url,
			restful_param,
			ftp_ip,
			ftp_port,
			ftp_username,
			ftp_password
		)
		values
		(
			#{serviceName},
			#{serviceDesc},
			#{dbIp},
			#{dbPort},
			#{dbName},
			#{dbTableName},
			#{dbUsername},
			#{dbPassword},
			#{wsdlIp},
			#{wsdlPort},
			#{wsdlUrl},
			#{restfulMethod},
			#{restfulIp},
			#{restfulPort},
			#{restfulUrl},
			#{restfulParam},
			#{ftpIp},
			#{ftpPort},
			#{ftpUsername},
			#{ftpPassword}
		)
	</insert>
</mapper>